# 내일의 집 nhouse (위코드 35기 2차 프로젝트)
- 내일의 집은 오늘의 집 쇼핑몰을 클론코딩한 프로젝트입니다. 
- 개발에 집중하기 위해 기획, 디자인은 참고하고 기능은 직접 구현하였습니다.
- 링크 : http://13.127.1.227:8000/

<br>


## 1. 선정 이유
- 커뮤니티와 스토어가 밀접하게 연동되어 있는 구조
   + 복잡한 모델링 공부 가능
   + SNS(커뮤니티) 사이트와 커머스(스토어)사이트를 둘 다 구현해볼 수 있음

- 소셜 로그인 기능 
   + 외부 API를 이용하여 인증, 인가하는 법을 익힐 수 있음

- 포스트 작성 기능 
   + AWS S3를 사용해서 장고와 외부 애플리케이션을 연동하는 법을 익힐 수 있음

<br>


## 2. 개발 인원
- 백엔드 2명 : 김민지, 조예슬
- 프론트엔드 3명 : 오창훈(PM), 김광희, 정훈조

<br>

## 3. 기간
2022.8.1 ~ 8.12(2주)

<br>

## 4. 백엔드 역할
- 김민지
   - DB 모델링
   - 글쓰기 API(s3)
   - 카테고리 API
   - 상품상세/상품목록 API
   - AWS 배포 
   
- 조예슬
   - DB 모델링
   - SNS 로그인 API
   - 포스트상세/포스트 목록 API
   - 팔로우 API
   
<br>

## 5. 백엔드 기술 스택
- Back-end : Python, Django, JWT, Bcrypt, Miniconda
- Database : dbdiagram.io, MySQL
- HTTP : Postman
- Common : Trello, Slack, Git & Github

<br>

## 6. API 명세서
https://www.notion.so/API-aba14d6d95e04d9ca1723f5467d1df3b

<br>

## 7. 시연 영상
https://www.youtube.com/watch?v=xwOui_m09ZI&t=1s

<br>

![카카오-로그인](https://user-images.githubusercontent.com/47664802/184307548-414db957-5a57-493d-a0bb-fff7f12aa49e.gif)
<br>

![팔로잉-추천](https://user-images.githubusercontent.com/47664802/184307578-5efadf31-7eb2-4990-8f4f-cc477e04d6cf.gif)

<br>

## 8.1 내 역할 - SNS 로그인 API

### 구현 사항
1. 유저 정보를 응답하는 카카오 REST API에 django requsts로 요청 보내고 유저 정보 응답받기
2. 유저의 카카오 아이디가 DB에 있으면 "LOGIN_SUCCESS" 메시지와 jwt 반환 
3. 유저의 카카오 아이디가 DB에 없으면 DB에 유저 정보 저장 후 "SIGNUP_SUCCESS" 메시지와 jwt 반환
4. unit test 코드 작성해서 테스트 자동화


### 배운 점
- 공식 문서를 읽어보고 REST API를 사용해보았습니다.
   + 카카오 API의 인가 코드, 토큰, 서비스에서 발급하는 jwt 토큰의 역할과 차이점에 대해 알게 되었습니다.
      - 인가 코드는 내일의 집이 카카오의 유저 정보에 접근해도 된다는 증거입니다.
      - 카카오 토큰은 유저가 카카오에 로그인했다는 증거입니다.
      - 내일의 집에서 발급하는 jwt는 유저가 내일의 집에 로그인했다는 증거입니다.
  
    + 낯선 기술을 사용할 때 효율적으로 공부하는 방식에 대해 생각해보았습니다.
      - 우선 공식 문서를 읽습니다.
      - 모르는 단어나 이해가 가지 않는 부분은 리서치를 해서 제대로 이해합니다.
      - 그런 다음 공식 문서를 누군가에게 설명한다고 생각하고 내 언어로 정리해봅니다.
      - 이제 공부한 기술을 내 프로젝트의 어느 부분에 어떻게 적용할 지 글로 간단하게 정리해봅니다.
      - 구체적인 적용 방법을 모르겠으면 리서치를 합니다.
      - 코드를 작성합니다. 

- 인증, 인가의 개념에 대해 더 잘 이해하게 되었습니다.
   + 인증은 유저가 우리 서비스에 등록된 유저인지 확인하는 것입니다.
   + 인가는 유저가 어딘가에 접근하려고 할 때 권한이 있는지 확인하는 것입니다.

- django의 requests 모듈을 사용해보았습니다.
   + requests 모듈을 사용하면 django에서 외부 REST API를 호출할 수 있음을 알게 되었습니다.
   + django에서 API를 호출할 때 요청 헤더와 바디에 어떻게 정보를 담아 보낼 수 있는지 배웠습니다.

- 테스트 코드를 작성해서 unit test를 진행해보았습니다.
   + magic mock을 사용해서 외부 api 호출 없이 테스트를 진행하도록 설정했습니다.
   + 테스트 가능한 경우의 수를 떠올리고 정리해서 코드로 풀어보았습니다.
   + 테스트 자동화의 중요성을 느꼈습니다.   


<br>

## 8.2 내 역할 - 포스트상세/포스트 목록 API

### 구현 사항

### 배운 점

<br>

## 8.3 내 역할 - 팔로우 API

### 구현 사항

### 배운 점

<br>


## 9. DB 모델링

<img width="1119" alt="스크린샷 2022-08-12 오후 2 41 28" src="https://user-images.githubusercontent.com/47664802/184291868-638cb04f-b180-40ec-8a93-9a5e95a9f108.png">

